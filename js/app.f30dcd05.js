(function(){var e={6700:function(e,t,o){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(e){var t=n(e);return o(t)}function n(e){if(!o.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=6700},645:function(e,t,o){"use strict";var s=o(9242),a=o(3396);const n={class:"app"};function r(e,t,o,s,r,l){const i=(0,a.up)("Navbar"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(i,{toggleTheme:e.toggleTheme},null,8,["toggleTheme"]),(0,a.Wm)(u)])}o(7658);var l=o(7139);const i=e=>((0,a.dD)("data-v-2ec914fd"),e=e(),(0,a.Cn)(),e),u={class:"navbar"},c=i((()=>(0,a._)("div",null,[(0,a._)("p",null,"Vue-Blog")],-1))),d={class:"navbar-btns"},m={class:"user-name"};function p(e,t,o,s,n,r){const i=(0,a.up)("UserOutlined"),p=(0,a.up)("a-button"),v=(0,a.up)("a-space"),g=(0,a.up)("a-modal");return(0,a.wg)(),(0,a.iD)("div",u,[c,(0,a._)("div",d,[(0,a._)("span",m,(0,l.zw)(r.userName),1),(0,a.Wm)(i,{class:"user",onClick:r.showModal},null,8,["onClick"]),(0,a.Wm)(v,{wrap:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:r.toggleTheme},{default:(0,a.w5)((()=>[(0,a.Uk)("Сменить цвет")])),_:1},8,["onClick"])])),_:1}),(0,a.Wm)(v,{wrap:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:t[0]||(t[0]=t=>e.$router.push("/admin"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Админ-панель")])),_:1})])),_:1})]),(0,a.Wm)(g,{open:n.open,"onUpdate:open":t[3]||(t[3]=e=>n.open=e),class:"registration",width:n.modalWidth},{footer:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{background:"darkcyan",color:"white"},class:"sign-in",onClick:t[1]||(t[1]=t=>(e.$router.push("/sign"),r.removeModal()))},{default:(0,a.w5)((()=>[(0,a.Uk)("Войти")])),_:1}),(0,a.Wm)(p,{class:"sign-up",onClick:t[2]||(t[2]=t=>{s.logout(),r.removeModal(),e.$router.push("/sign")})},{default:(0,a.w5)((()=>[(0,a.Uk)("Выход")])),_:1})])),_:1},8,["open","width"])])}var v=o(8896),g=o(1020);const h=(0,g.Q_)({id:"theme",state:()=>({isDarkTheme:!1}),getters:{getThemeColor:e=>e.isDarkTheme?"black":"aliceblue"},actions:{toggleTheme(){this.isDarkTheme=!this.isDarkTheme}}});var f=o(4161);const _="http://api-laravel-project/api/V1",w=f.Z.create({baseURL:_,headers:{"Content-Type":"application/json"}}),y=(0,g.Q_)("user",{state:()=>({token:null,user:JSON.parse(localStorage.getItem("auth_user"))||null}),actions:{setToken(e){this.token=e,localStorage.setItem("auth_token",e)},setUser(e){this.user=e.user,localStorage.setItem("auth_user",JSON.stringify(e.user))},clearToken(){this.token=null,localStorage.removeItem("auth_token")},clearAuthUser(){this.user=null,localStorage.removeItem("auth_user")}}});var b=o(252),k={components:{UserOutlined:v.Z},data(){return{open:!1,modalWidth:"250px"}},methods:{showModal(){this.open=!0},removeModal(){this.open=!1},toggleTheme(){const e=y(),t=e.user?e.user.role:null;if("admin"===t){const e=h();e.toggleTheme()}else b.ZP.error("Вы не являетесь админом!"),this.$router.push({name:"NotFoundPage"})}},computed:{userName(){const e=y();return e.user?e.user.name:null}},setup(){const e=y(),t=async()=>{const t=localStorage.getItem("auth_token"),o={headers:{Authorization:`Bearer ${t}`}};try{const t=await w.get("/auth/logout",o);200===t.status?(e.clearToken(),e.clearAuthUser(),b.ZP.success("Вы вышли из аккаунта!")):b.ZP.error("Logout failes",t)}catch(s){b.ZP.error("Logout failed",s)}};return{logout:t}}},j=o(89);const C=(0,j.Z)(k,[["render",p],["__scopeId","data-v-2ec914fd"]]);var P=C;const D=e=>((0,a.dD)("data-v-5555e698"),e=e(),(0,a.Cn)(),e),S={class:"custom-component"},W={class:"header"},Z=D((()=>(0,a._)("h2",null,"Hello, slot vue!",-1))),x={class:"content"},I=D((()=>(0,a._)("p",null,"Text Content Slot",-1)));function z(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",W,[(0,a.WI)(e.$slots,"header",{},(()=>[Z]),!0)]),(0,a._)("div",x,[(0,a.WI)(e.$slots,"content",{},(()=>[I]),!0)])])}var M={name:"CustomComponent"};const U=(0,j.Z)(M,[["render",z],["__scopeId","data-v-5555e698"]]);var O=U;const T=e=>((0,a.dD)("data-v-7e0d54c3"),e=e(),(0,a.Cn)(),e),A={class:"slot-component"},V=T((()=>(0,a._)("div",{class:"fallback-header"},[(0,a._)("h2",null,"Fallback Header")],-1))),$=T((()=>(0,a._)("div",{class:"fallback-content"},[(0,a._)("p",null,"Fallback Text")],-1)));function F(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",A,[(0,a.WI)(e.$slots,"header",{},(()=>[V]),!0),(0,a.WI)(e.$slots,"content",{},(()=>[$]),!0)])}var H={name:"FallbackSlotComponent"};const N=(0,j.Z)(H,[["render",F],["__scopeId","data-v-7e0d54c3"]]);var E=N;const Y={class:"child-component"};function q(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>r.emitData&&r.emitData(...e))},"Отправить данные"),(0,a.WI)(e.$slots,"default",{data:n.childData},void 0,!0)])}var L={name:"ChildSlotComponent",data(){return{childData:"Данные из дочернего компонента"}},methods:{emitData(){this.$emit("data",this.childData)}}};const B=(0,j.Z)(L,[["render",q],["__scopeId","data-v-cd524754"]]);var J=B;const K=e=>((0,a.dD)("data-v-12eaa752"),e=e(),(0,a.Cn)(),e),R={key:0,class:"modal"},Q={class:"modal-dialog"},G={class:"modal-header"},X=K((()=>(0,a._)("h3",null,"Заголовок модального окна",-1))),ee={class:"modal-body"},te=K((()=>(0,a._)("p",null,"Содержимое модального окна",-1))),oe={class:"modal-footer"};function se(e,t,o,s,n,r){return s.show?((0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("div",Q,[(0,a._)("div",G,[(0,a.WI)(e.$slots,"header",{},(()=>[X]),!0)]),(0,a._)("div",ee,[(0,a.WI)(e.$slots,"body",{},(()=>[te]),!0)]),(0,a._)("div",oe,[(0,a.WI)(e.$slots,"footer",{},(()=>[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e))},"Закрыть")]),!0)])])])):(0,a.kq)("",!0)}var ae=o(4870),ne={name:"Modal",props:{show:Boolean},setup(e){const t=()=>{this.$emit("close")},o=(0,ae.iH)(e.show);return{closeModal:t,show:o}}};const re=(0,j.Z)(ne,[["render",se],["__scopeId","data-v-12eaa752"]]);var le=re,ie={bind(e,t){e.textContent=t.value}},ue={bind(e,t){const o=document.createElement("div");o.className="tooltip",o.textContent=t.value,o.style.position="absolute",o.style.backgroundColor="rgba(0, 0, 0, 0.7)",o.style.color="white",o.style.padding="5px",o.style.borderRadius="3px",o.style.zIndex="1000",o.style.display="none",document.body.appendChild(o),e.addEventListener("mouseover",(()=>{o.style.display="block"})),e.addEventListener("mouseout",(()=>{o.style.display="none"})),e.addEventListener("mousemove",(e=>{o.style.top=e.clientY+10+"px",o.style.left=e.clientX+10+"px"}))}};const ce={class:"form-group"},de=(0,a._)("label",{for:"name"},"Name:",-1),me={class:"error-message"},pe={class:"form-group"},ve=(0,a._)("label",{for:"email"},"Email:",-1),ge={class:"error-message"},he={class:"form-group"},fe=(0,a._)("label",{for:"password"},"Password:",-1),_e={class:"error-message"},we=(0,a._)("button",{type:"submit"},"Submit",-1);function ye(e,t,o,n,r,i){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[3]||(t[3]=(0,s.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,a._)("div",ce,[de,(0,a.wy)((0,a._)("input",{id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.formData.name=e)},null,512),[[s.nr,r.formData.name]]),(0,a._)("div",me,(0,l.zw)(r.errors.name),1)]),(0,a._)("div",pe,[ve,(0,a.wy)((0,a._)("input",{id:"email",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.formData.email=e)},null,512),[[s.nr,r.formData.email]]),(0,a._)("div",ge,(0,l.zw)(r.errors.email),1)]),(0,a._)("div",he,[fe,(0,a.wy)((0,a._)("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.formData.password=e)},null,512),[[s.nr,r.formData.password]]),(0,a._)("div",_e,(0,l.zw)(r.errors.password),1)]),we],32)}var be={data(){return{formData:{name:"",email:"",password:""},errors:{name:"",email:"",password:""}}},methods:{validateForm(){this.errors={};let e=!0;return this.formData.name||(this.errors.name="Введите имя.",e=!1),this.formData.email?this.isValidEmail(this.formData.email)||(this.errors.email="Введите правильный формат электронной почты.",e=!1):(this.errors.email="Введите email.",e=!1),this.formData.password||(this.errors.password="Введите пароль.",e=!1),e},isValidEmail(e){const t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return t.test(e)},submitForm(){this.validateForm()?(console.log("Form data:",this.formData),this.formData={name:"",email:"",password:""}):console.log("Form is invalid")}}};const ke=(0,j.Z)(be,[["render",ye]]);var je=ke;const Ce=e=>((0,a.dD)("data-v-573c364c"),e=e(),(0,a.Cn)(),e),Pe={class:"form-group"},De=Ce((()=>(0,a._)("label",{for:"textValue"},"Text Input:",-1))),Se={class:"form-group"},We=Ce((()=>(0,a._)("label",{for:"numberValue"},"Number Input:",-1))),Ze={class:"form-group"},xe=Ce((()=>(0,a._)("label",{for:"checkboxValue"},"Checkbox:",-1))),Ie={class:"result"},ze=Ce((()=>(0,a._)("h3",null,"Model Values:",-1)));function Me(e,t,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("form",null,[(0,a._)("div",Pe,[De,(0,a.wy)((0,a._)("input",{id:"textValue",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.textModel=e)},null,512),[[s.nr,r.textModel]])]),(0,a._)("div",Se,[We,(0,a.wy)((0,a._)("input",{id:"numberValue",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>r.numberModel=e)},null,512),[[s.nr,r.numberModel]])]),(0,a._)("div",Ze,[xe,(0,a.wy)((0,a._)("input",{id:"checkboxValue",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>r.checkboxModel=e)},null,512),[[s.e8,r.checkboxModel]])])]),(0,a._)("div",Ie,[ze,(0,a._)("p",null,"Text Input Model: "+(0,l.zw)(r.textModel),1),(0,a._)("p",null,"Number Input Model: "+(0,l.zw)(r.numberModel),1),(0,a._)("p",null,"Checkbox Model: "+(0,l.zw)(r.checkboxModel),1)]),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>i.changeModelValues&&i.changeModelValues(...e))},"Change Model Values")])}var Ue={data(){return{textModel:"Default Text",numberModel:42,checkboxModel:!1}},methods:{changeModelValues(){this.textModel="Updated Text",this.numberModel=99,this.checkboxModel=!this.checkboxModel}}};const Oe=(0,j.Z)(Ue,[["render",Me],["__scopeId","data-v-573c364c"]]);var Te=Oe;function Ae(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>l.decrement&&l.decrement(...e))},"-"),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>this.counterValue=e),type:"number"},null,512),[[s.nr,this.counterValue]]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>l.increment&&l.increment(...e))},"+")])}var Ve={data(){return{counterValue:0}},methods:{increment(){this.counterValue++},decrement(){this.counterValue--}}};const $e=(0,j.Z)(Ve,[["render",Ae]]);var Fe=$e;function He(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",{class:"toggle",onClick:t[0]||(t[0]=(...e)=>r.toggleState&&r.toggleState(...e))},(0,l.zw)(r.currentValue),1)}var Ne={data(){return{state:!1}},computed:{currentValue(){return this.state?"On":"Off"}},methods:{toggleState(){this.state=!this.state}}};const Ee=(0,j.Z)(Ne,[["render",He],["__scopeId","data-v-e400b4d8"]]);var Ye=Ee;function qe(e,t,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.userClass=e),type:"text",placeholder:"Enter class name",onInput:t[1]||(t[1]=e=>i.applyClass())},null,544),[[s.nr,r.userClass]]),(0,a._)("div",{class:(0,l.C_)(r.userClass)},null,2)])}var Le={data(){return{userClass:""}},methods:{applyClass(){this.userClass=this.userClass}}};const Be=(0,j.Z)(Le,[["render",qe]]);var Je=Be;const Ke=["value"];function Re(e,t,o,n,r,i){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.selectedOption=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:t},(0,l.zw)(e),9,Ke)))),128))],512)),[[s.bM,r.selectedOption]])}var Qe={props:{options:Array,value:String},data(){return{selectedOption:this.value}},watch:{selectedOption(e){this.$emit("input",e)}}};const Ge=(0,j.Z)(Qe,[["render",Re],["__scopeId","data-v-d5fc3d46"]]);var Xe=Ge;const et={class:"dropdown-select"},tt=["value"];function ot(e,t,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",et,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedOption=e)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.options,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{value:e,key:t},(0,l.zw)(e),9,tt)))),128))],512),[[s.bM,i.selectedOption]])])}var st={props:{options:Array,value:String},computed:{selectedOption:{get(){return this.value},set(e){this.$emit("input",e)}}}};const at=(0,j.Z)(st,[["render",ot],["__scopeId","data-v-e2eae858"]]);var nt=at,rt={components:{Navbar:P,TaskNamedSlot:O,FallbackContentSlot:E,ChildSlotComponent:J,ModalSlot:le,ValueUpdateDirictive:ie,TooltipDirective:ue,Task5Form:je,AnotherTask5Form:Te,CounterTask5Vue:Fe,ToggleComponentTask5:Ye,TogglerComponent:Je,SelectComponent:Xe,CustomSelectComponent:nt},data(){return{isModalVisible:!1,directiveValue:"Ой",elementTightened:!1,selectedOption:"Option 1",options:["Option 1","Option 2","Option 3"]}},methods:{openModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},updateValue(){this.directiveValue="Ура!"},toggleElement(){this.elementTightened=!this.elementTightened}}};const lt=(0,j.Z)(rt,[["render",r]]);var it=lt;function ut(e,t,o,s,n,r){const i=(0,a.up)("posts-list"),u=(0,a.up)("sidebar"),c=(0,a.up)("another-sidebar");return(0,a.wg)(),(0,a.iD)("div",{class:"main",style:(0,l.j5)({backgroundColor:s.themeColor})},[(0,a.Wm)(i),(0,a.Wm)(u,{onChangeColor:e.updateBgColor},null,8,["onChangeColor"]),(0,a.Wm)(c)],4)}const ct=e=>((0,a.dD)("data-v-66ab77e5"),e=e(),(0,a.Cn)(),e),dt={key:0},mt=ct((()=>(0,a._)("h3",null,"Список постов",-1))),pt=["onClick"],vt={class:"post-title"},gt={class:"post-create-date"},ht={class:"post-category"},ft={class:"post-body"},_t={class:"post-icons"},wt={class:"post-comment"},yt={class:"post-like"},bt=["onClick"],kt={key:0,class:"post-delete"},jt={key:1,class:"error",style:{color:"red"}};function Ct(e,t,o,n,r,i){const u=(0,a.up)("PostForm"),c=(0,a.up)("create-new-post"),d=(0,a.up)("default-button"),m=(0,a.up)("CommentOutlined"),p=(0,a.up)("LikeOutlined"),v=(0,a.up)("DislikeOutlined"),g=(0,a.up)("a-button"),h=(0,a.up)("a-space"),f=(0,a.up)("a-pagination");return n.pagedPosts.length>0?((0,a.wg)(),(0,a.iD)("div",dt,[mt,(0,a.Wm)(c,{open:n.modalVisible,"onUpdate:open":t[0]||(t[0]=e=>n.modalVisible=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{addPost:n.addPost},null,8,["addPost"])])),_:1},8,["open"]),(0,a.Wm)(d,{onClick:n.showModalCreate},{default:(0,a.w5)((()=>[(0,a.Uk)("Создать пост")])),_:1},8,["onClick"]),(0,a.Wm)(d,{onClick:n.userHandler},{default:(0,a.w5)((()=>[(0,a.Uk)("Привествие")])),_:1},8,["onClick"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.pagedPosts,(e=>((0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)([{"dark-theme":n.isDarkTheme},"post"]),key:e.id},[(0,a.Wm)(s.W3,{name:"post-list"},{default:(0,a.w5)((()=>[(0,a._)("div",{onClick:t=>n.navigateToPost(e.id)},[(0,a._)("h2",vt,(0,l.zw)(e.title),1),(0,a._)("div",gt," Дата создания поста: "+(0,l.zw)(n.formattedDate(e.created_at)),1),(0,a._)("div",ht," Тема: "+(0,l.zw)(e.category),1),(0,a._)("div",ft,[(0,a._)("p",null,(0,l.zw)(e.body),1)])],8,pt)])),_:2},1024),(0,a._)("div",_t,[(0,a._)("div",wt,[(0,a.Wm)(m,{class:"comment"}),(0,a._)("span",null,(0,l.zw)(n.commentCounts[e.id]||0),1)]),(0,a._)("div",yt,[(0,a.Wm)(p,{class:"like",onClick:t=>n.likePost(e)},null,8,["onClick"]),(0,a._)("span",null,(0,l.zw)(e.likes_count),1)]),(0,a._)("div",{class:"post-dislike",onClick:t=>n.dislikePost(e)},[(0,a.Wm)(v,{class:"dislike"}),(0,a._)("span",null,(0,l.zw)(e.dislikes_count),1)],8,bt)]),n.userAuth?((0,a.wg)(),(0,a.iD)("div",kt,[(0,a.Wm)(h,{warp:""},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"delete",onClick:t=>n.removePost(e.id),danger:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Удалить пост")])),_:2},1032,["onClick"])])),_:2},1024)])):(0,a.kq)("",!0)],2)))),128)),(0,a.Wm)(f,{class:"pagination",current:n.currentPage,total:n.totalPosts,defaultPageSize:n.pageSize,onChange:n.handlePageChange,"show-less-items":""},null,8,["current","total","defaultPageSize","onChange"])])):((0,a.wg)(),(0,a.iD)("h2",jt,"Список постов пуст"))}const Pt=e=>((0,a.dD)("data-v-7a26ffa8"),e=e(),(0,a.Cn)(),e),Dt=Pt((()=>(0,a._)("h1",{class:"sign"},"Добавить пост",-1)));function St(e,t,o,n,r,l){const i=(0,a.up)("a-input"),u=(0,a.up)("a-form-item"),c=(0,a.up)("a-auto-complete"),d=(0,a.up)("a-textarea"),m=(0,a.up)("a-button"),p=(0,a.up)("a-form");return(0,a.wg)(),(0,a.iD)("div",null,[Dt,(0,a.Wm)(p,{name:"basic",ref:"formRef",model:n.post,"label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",style:{width:"600px","margin-left":"40px"},onSubmit:(0,s.iM)(n.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"title",rules:[{required:!0,message:"Пожалуйста введите название поста!"},{validator:n.validateTitle}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{value:n.post.title,"onUpdate:value":t[0]||(t[0]=e=>n.post.title=e),placeholder:"Название поста",style:{height:"50px","margin-bottom":"5px"}},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{name:"category",rules:[{required:!0,message:"Пожалуйста введите название категории!"},{validator:n.validateCategory}]},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"padding-top":"20px"},value:n.post.category,"onUpdate:value":t[1]||(t[1]=e=>n.post.category=e),options:n.filterAutocomplete(),"filter-method":n.handleFilter,onSearch:n.handleSearch},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"custom-input",placeholder:"Категория поста"})])),_:1},8,["value","options","filter-method","onSearch"])])),_:1},8,["rules"]),(0,a.Wm)(u,{name:"body",rules:[{required:!0,message:"Пожалуйста, введите текст!"},{validator:n.validateText}]},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{value:n.post.body,"onUpdate:value":t[2]||(t[2]=e=>n.post.body=e),rows:4,placeholder:"Текст поста"},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{"wrapper-col":{offset:8,span:16}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"primary","html-type":"submit",style:{"margin-left":"-70px",width:"150px",height:"50px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Добавить")])),_:1})])),_:1})])),_:1},8,["model","onSubmit"])])}const Wt=(0,g.Q_)({id:"posts",state:()=>({posts:[],selectedCategory:""}),getters:{filteredPosts(){const e=this.selectedCategory;return this.posts.filter((t=>t.category===e))}},actions:{setPosts(e){this.posts=e},selectCategory(e){this.selectedCategory=e},addPost(e){this.posts.push(e)},updateLikesCount(e,t){const o=this.posts.find((t=>t.id===e));o&&(o.likes_count=t)},removePost(e){const t=this.posts.findIndex((t=>t.id===e));-1!==t&&this.posts.splice(t,1)}}});var Zt={props:{addPost:Function},setup(e){const t=(0,ae.iH)({title:"",body:"",category:""}),o=(0,ae.iH)([]),s=(0,ae.iH)(null),a=()=>{setTimeout((()=>{const o=s.value.validate();o?(e.addPost(t.value),t.value={title:"",body:"",category:""}):console.log("Form validation failed")}),0)},n=()=>{const e=Wt(),s=t.value.category,a=e.posts.filter((e=>e.category&&e.category.includes(s)));o.value=a.map((e=>({value:e.category,id:e.id})))},r=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>=0,l=(e,t)=>{if(t){const e=/[А-ЯA-Z][ \t]*[а-яА-ЯA-Za-z\s]*$/;return e.test(t)?Promise.resolve():Promise.reject("Название должно начинаться с большой буквы!")}return Promise.resolve()},i=()=>{const e={},t=o.value.filter((({value:t})=>!e[t]&&(e[t]=1)));return t},u=(e,t)=>{if(t){const e=/^[А-ЯA-Z][ \t]*[а-яА-ЯA-Za-z\s-]*$/,o=/\d/.test(t);return!o&&e.test(t)?Promise.resolve():Promise.reject("Название категории должно начинаться с большой буквы и не содержать чисел!")}return Promise.resolve()},c=(e,t)=>{if(t){const e=/[А-ЯA-Z][ \t]*[а-яА-ЯA-Za-z\s]*$/;return e.test(t)?Promise.resolve():Promise.reject("Текст должен начинаться с большой буквы!")}return Promise.resolve()};return{post:t,autocompleteOptions:o,handleSearch:n,handleFilter:r,validateTitle:l,filterAutocomplete:i,validateCategory:u,validateText:c,submitForm:a,formRef:s}}};const xt=(0,j.Z)(Zt,[["render",St],["__scopeId","data-v-7a26ffa8"]]);var It=xt;function zt(e,t,o,s,n,r){const l=(0,a.up)("a-modal");return(0,a.wg)(),(0,a.j4)(l,{open:n.open,"onUpdate:open":t[0]||(t[0]=e=>n.open=e)},{footer:(0,a.w5)((()=>[])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},void 0,!0)])),_:3},8,["open"])}var Mt={data(){return{open:!1}}};const Ut=(0,j.Z)(Mt,[["render",zt],["__scopeId","data-v-e35e4d1c"]]);var Ot=Ut,Tt=o(6797),At=o.n(Tt),Vt=o(9069),$t=o(9034),Ft=o(6394);const Ht={created(){console.log(`Component created: ${this.$options.name||"Anonymous"}`)},destroyed(){console.log(`Component destroyed: ${this.$options.name||"Anonymous"}`)}};var Nt=Ht,Et={components:{LikeOutlined:Vt.Z,DislikeOutlined:$t.Z,CommentOutlined:Ft.Z,PostForm:It,CreateNewPost:Ot},mixins:[Nt],setup(){const e=(0,ae.iH)(!1),t=(0,ae.iH)(!1),o=(0,ae.iH)(10),s=(0,ae.iH)(1),n=(0,ae.iH)(0),r=(0,ae.iH)(!0),l=(0,ae.iH)({}),i=Wt(),u=y(),c=(0,a.FN)().appContext.config.globalProperties.$router,d=(0,a.Fl)((()=>(s.value-1)*o.value)),m=(0,a.Fl)((()=>i.posts.slice(d.value,d.value+o.value))),p=(0,a.Fl)((()=>r.value?v:g)),v=()=>{b.ZP.success("Добро пожаловать в мой блог!")},g=()=>{b.ZP.error("Всего хорошего!")},h=()=>{localStorage.getItem("auth_user")&&null!==localStorage.getItem("auth_token")?t.value=!0:(b.ZP.error("Войдите или зарегистрируйтесь, чтобы продолжить!"),c.push("/sign"))},f=()=>{t.value=!1},_=(0,a.Fl)((()=>{const e=y();return null!==e.user&&"admin"===e.user.role})),k=async()=>{try{const[e,t]=await Promise.all([w.get("/posts"),w.get("/comments")]);i.setPosts(e.data),n.value=i.posts.length;const o=JSON.parse(localStorage.getItem("likesData"))||{},s=JSON.parse(localStorage.getItem("dislikesData"))||{};i.posts.forEach((e=>{let t=o[e.id],a=s[e.id];e.likes_count=void 0!==t?t:0,e.dislikes_count=void 0!==a?a:0})),t.data.forEach((e=>{const t=e.post_id;l.value[t]?l.value[t]+=1:l.value[t]=1}))}catch(e){b.ZP.error("Ошибка")}},j=async e=>{console.log("Adding post in parent:",e);try{const o=await w.post("/posts",{id:e.id,title:e.title,body:e.body,category:e.category,user_id:u.user.id});if(201===o.status){const e=o.data.data;e.likes_count=0,e.dislikes_count=0,i.addPost(e),b.ZP.success("Пост успешно создан."),t.value=!1}else b.ZP.error("Ошибка при создании поста.")}catch{b.ZP.error("Ошибка")}},C=async e=>{try{const t=u.user?u.user.role:null;if("admin"===t){const t=await w.delete(`/posts/${e}`);200===t.status?(i.removePost(e),b.ZP.success("Пост успешно удален")):b.ZP.error("Ошибка при удалении поста")}else b.ZP.error("Вы не являетесь админом!"),c.push({name:"NotFoundPage"})}catch{b.ZP.error("Ошибка")}},P=async e=>{if(u.user&&null!==localStorage.getItem("auth_token"))try{await w.post("/likes",{post_id:e.id,likes:e.likes_count});e.likes_count+=1;const t=JSON.parse(localStorage.getItem("likesData"))||{};t[e.id]=e.likes_count,localStorage.setItem("likesData",JSON.stringify(t)),await w.put(`/posts/${e.id}`,{likes_count:e.likes_count}),i.updateLikesCount(e.id,e.likes_count)}catch(t){b.ZP.error("Ошибка")}else b.ZP.error("Войдите или зарегистрируйтесь чтобы продолжить!"),c.push("/sign")},D=async e=>{if(u.user&&null!==localStorage.getItem("auth_token"))try{await w.post("/likes",{post_id:e.id,dislikes:e.dislikes_count});e.dislikes_count+=1;const t=JSON.parse(localStorage.getItem("dislikesData"))||{};t[e.id]=e.dislikes_count,localStorage.setItem("dislikesData",JSON.stringify(t)),await w.put(`/posts/${e.id}`,{dislikes_count:e.dislikes_count})}catch(t){b.ZP.error("Ошибка")}else b.ZP.error("Войдите или зарегистрируйтесь чтобы продолжить!"),c.push("/sign")},S=e=>{s.value=e},W=e=>At()(e).format("MMMM Do YYYY, h:mm:ss"),Z=e=>{localStorage.getItem("auth_user")&&null!==localStorage.getItem("auth_token")?c.push(`/${e}`):(b.ZP.error("Войдите или зарегистрируйтесь чтобы продолжить!"),c.push("/sign"))},x=()=>{b.ZP.success("Добро пожаловать в мой блог!")},I=()=>{b.ZP.error("Всего хорошего!")},z=()=>{p.value()};return(0,a.bv)((()=>{k()})),{isDarkTheme:e,modalVisible:t,pageSize:o,currentPage:s,totalPosts:n,userHello:r,commentCounts:l,pagedPosts:m,clickHandler:p,formattedDate:W,helloUser:x,goodbyeUser:I,userHandler:z,navigateToPost:Z,addPost:j,removePost:C,likePost:P,dislikePost:D,handlePageChange:S,userAuth:_,showModalCreate:h,hideModal:f}}};const Yt=(0,j.Z)(Et,[["render",Ct],["__scopeId","data-v-66ab77e5"]]);var qt=Yt;const Lt=e=>((0,a.dD)("data-v-e21b4996"),e=e(),(0,a.Cn)(),e),Bt={class:"sidebar"},Jt=Lt((()=>(0,a._)("h1",null,"Лучшие посты",-1))),Kt=["onClick"],Rt=Lt((()=>(0,a._)("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 1024 1024"},[(0,a._)("path",{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"})],-1)));function Qt(e,t,o,s,n,r){const i=(0,a.up)("icon"),u=(0,a.up)("a-space");return(0,a.wg)(),(0,a.iD)("div",Bt,[Jt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.filteredAndSortedByLikes(),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"popular-posts",key:e.id},[(0,a._)("h2",{onClick:t=>s.navigateToPost(e)},(0,l.zw)(e.title),9,Kt),(0,a._)("p",null,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{color:"hotpink"}},{component:(0,a.w5)((()=>[Rt])),_:1})])),_:1}),(0,a.Uk)(" "+(0,l.zw)(e.likes_count),1)])])))),128))])}var Gt=o(5215),Xt={components:{Icon:Gt.Z},setup(){const e=(0,a.FN)().appContext.config.globalProperties.$router,t=()=>{const e=Wt();return e.posts.filter((e=>e.likes_count>4)).sort(((e,t)=>t.likes_count-e.likes_count))},o=t=>{localStorage.getItem("auth_user")&&null!==localStorage.getItem("auth_token")?e.push(`/${t.id}`):(b.ZP.error("Войдите или зарегистрируйтесь чтобы продолжить!"),e.push("/sign"))};return(0,a.bv)((()=>{t()})),{filteredAndSortedByLikes:t,navigateToPost:o}}};const eo=(0,j.Z)(Xt,[["render",Qt],["__scopeId","data-v-e21b4996"]]);var to=eo;const oo=e=>((0,a.dD)("data-v-6d450ca0"),e=e(),(0,a.Cn)(),e),so={class:"sidebar"},ao=oo((()=>(0,a._)("h1",null,"Популярные темы",-1))),no=["onClick"];function ro(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",so,[ao,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.getPopularCategories(),(e=>((0,a.wg)(),(0,a.iD)("div",{class:"popular-category",key:e},[(0,a._)("p",{class:"category",onClick:t=>s.navigateToPost(e)},(0,l.zw)(e),9,no)])))),128))])}var lo={components:{Icon:Gt.Z},setup(){const e=(0,a.FN)().appContext.config.globalProperties.$router,t=t=>{localStorage.getItem("auth_user")&&null!==localStorage.getItem("auth_token")?e.push(""+("/categories/"+t)):(b.ZP.error("Войдите или зарегистрируйтесь чтобы продолжить!"),e.push("/sign"))},o=Wt(),s=()=>{const e={};o.posts.forEach((t=>{e[t.category]?e[t.category]++:e[t.category]=1}));const t=Object.keys(e).filter((t=>e[t]>=10));return t},n=()=>{const e=s();return o.posts.filter((t=>e.includes(t.category)))};return(0,a.bv)((()=>{s(),n()})),{navigateToPost:t,getPopularCategories:s}}};const io=(0,j.Z)(lo,[["render",ro],["__scopeId","data-v-6d450ca0"]]);var uo=io,co={components:{PostsList:qt,Sidebar:to,AnotherSidebar:uo},setup(){const e=h(),t=(0,a.Fl)((()=>e.getThemeColor));return{themeColor:t}}};const mo=(0,j.Z)(co,[["render",ut]]);var po=mo;const vo={key:0},go={key:1},ho={class:"post-page"},fo={key:0,class:"post"},_o={class:"post-title"},wo={class:"post-create-date"},yo={class:"post-category"},bo={class:"post-body"};function ko(e,t,o,s,n,r){const i=(0,a.up)("not-found-page"),u=(0,a.up)("comments");return(0,a.wg)(),(0,a.iD)("div",null,[s.postNotFound?((0,a.wg)(),(0,a.iD)("div",vo,[(0,a.Wm)(i)])):((0,a.wg)(),(0,a.iD)("div",go,[(0,a._)("div",ho,[s.post?((0,a.wg)(),(0,a.iD)("div",fo,[(0,a._)("h2",_o,(0,l.zw)(s.post.title),1),(0,a._)("div",wo," Дата создания поста: "+(0,l.zw)(s.formattedDate(s.post.created_at)),1),(0,a._)("div",yo," Тема: "+(0,l.zw)(s.post.category),1),(0,a._)("div",bo,[(0,a._)("p",null,(0,l.zw)(s.post.body),1)])])):(0,a.kq)("",!0),(0,a.Wm)(u,{postId:e.$route.params.id,commentsArray:s.commentsArray},null,8,["postId","commentsArray"])])]))])}const jo=e=>((0,a.dD)("data-v-0233f28e"),e=e(),(0,a.Cn)(),e),Co={class:"comments"},Po={class:"left-align-header"},Do={key:1,class:"no-comments"},So=jo((()=>(0,a._)("p",null,"No comments",-1))),Wo=[So];function Zo(e,t,o,n,r,i){const u=(0,a.up)("a-comment"),c=(0,a.up)("a-list-item"),d=(0,a.up)("a-list"),m=(0,a.up)("a-textarea"),p=(0,a.up)("a-form-item"),v=(0,a.up)("a-button"),g=(0,a.up)("a-form");return(0,a.wg)(),(0,a.iD)("div",Co,[o.commentsArray&&o.commentsArray.length?((0,a.wg)(),(0,a.j4)(d,{key:0,"data-source":o.commentsArray,"item-layout":"horizontal",class:"comment-list"},{header:(0,a.w5)((()=>[(0,a._)("div",Po,(0,l.zw)(o.commentsArray.length)+" "+(0,l.zw)(o.commentsArray.length>1?"comments":"comment"),1)])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.commentsArray,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{author:e.users.name,content:e.comment_text,datetime:n.formattedDate(e.created_at)},null,8,["author","content","datetime"])])),_:2},1024)))),128))])),_:1},8,["data-source"])):((0,a.wg)(),(0,a.iD)("div",Do,Wo)),(0,a.Wm)(u,{class:"comment"},{content:(0,a.w5)((()=>[(0,a.Wm)(g,{model:this.commentState,ref:"formRef",name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",onSubmit:(0,s.iM)(n.handleSubmit,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"comment",rules:[{required:!0,message:"Пожалуйста, введите комментарий!"},{validator:n.validateComment}]},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{value:n.commentState.comment,"onUpdate:value":t[0]||(t[0]=e=>n.commentState.comment=e),rows:4,placeholder:"Введите комментарий"},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"html-type":"submit",loading:n.submitting,type:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Добавить ")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])),_:1})])}const xo="commentCounts",Io=(0,g.Q_)("comment",{state:()=>({postCommentCounts:{}}),actions:{incrementCommentCount(e){this.postCommentCounts[e]?this.postCommentCounts[e]+=1:this.postCommentCounts[e]=1,localStorage.setItem(xo,JSON.stringify(this.postCommentCounts))},getCommentCount(e){return this.postCommentCounts[e]||0},loadCommentCountsFromLocalStorage(){const e=localStorage.getItem(xo);e&&(this.postCommentCounts=JSON.parse(e))}}});var zo=o(5743),Mo=o.n(zo),Uo=o(893),Oo=o.n(Uo);Mo().extend(Oo());var To={props:{postId:{type:String,required:!0},commentsArray:{type:Array,required:!0}},setup(e){const t=(0,ae.iH)([]),o=(0,ae.iH)(!1),s=(0,ae.iH)({comment:""}),a=y(),n=(0,ae.iH)(null),r=()=>{setTimeout((()=>{n.value.validate().then((t=>{const o=a.user.id,n=(w.post("/comments",{comment_text:s.value.comment,post_id:e.postId,user_id:o}),{users:{name:a.user.name,created_at:At()().format()},comment_text:s.value.comment});e.commentsArray.push(n),s.value.comment="";const r=Io();r.incrementCommentCount(e.postId)})).catch((e=>{console.log(e)}))}),0)},l=e=>At()(e).format("MMMM Do YYYY, h:mm:ss"),i=(e,t)=>{if(t){const e=/[А-ЯA-Z][ \t]*[а-яА-ЯA-Za-z\s]*$/;return e.test(t)?Promise.resolve():Promise.reject("Комментарий должен начинаться с большой буквы!")}return Promise.resolve()};return{comments:t,submitting:o,commentState:s,handleSubmit:r,formattedDate:l,validateComment:i,formRef:n}}};const Ao=(0,j.Z)(To,[["render",Zo],["__scopeId","data-v-0233f28e"]]);var Vo=Ao;const $o=e=>((0,a.dD)("data-v-77bce7bd"),e=e(),(0,a.Cn)(),e),Fo=$o((()=>(0,a._)("h1",null,"404 Not Found",-1))),Ho=[Fo];function No(e,t){return(0,a.wg)(),(0,a.iD)("div",null,Ho)}const Eo={},Yo=(0,j.Z)(Eo,[["render",No],["__scopeId","data-v-77bce7bd"]]);var qo=Yo,Lo=o(2483),Bo={components:{Comments:Vo,NotFoundPage:qo},setup(){const e=(0,ae.iH)({}),t=(0,ae.iH)([]),o=(0,ae.iH)(!1),s=(0,Lo.yj)(),n=async s=>{try{const[o,a]=await Promise.all([w.get(`/posts/${s}`),w.get(`/comments/${s}`)]);console.log(a.data),e.value=o.data,t.value=a.data}catch(a){a.response&&404===a.response.status?o.value=!0:console.error("Error fetching post data",a)}},r=e=>At()(e).format("MMMM Do YYYY, h:mm:ss");return(0,a.bv)((()=>{n(s.params.id)})),{post:e,commentsArray:t,postNotFound:o,formattedDate:r}}};const Jo=(0,j.Z)(Bo,[["render",ko],["__scopeId","data-v-65b199c8"]]);var Ko=Jo;const Ro=e=>((0,a.dD)("data-v-44e4b144"),e=e(),(0,a.Cn)(),e),Qo=Ro((()=>(0,a._)("h1",{class:"sign"},"Вход в аккаунт",-1))),Go={class:"registration"};function Xo(e,t,o,n,r,l){const i=(0,a.up)("a-input"),u=(0,a.up)("a-form-item"),c=(0,a.up)("a-input-password"),d=(0,a.up)("a-checkbox"),m=(0,a.up)("a-button"),p=(0,a.up)("a-form"),v=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[Qo,(0,a.Wm)(p,{model:n.formState,name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",style:{width:"600px",margin:"100px 0 0 25%"},onSubmit:(0,s.iM)(n.loginUser,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Эл. почта",name:"email",rules:[{required:!0,message:"Пожалуйста, введите электронный адрес!"},{validator:n.validateEmail}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{value:n.formState.email,"onUpdate:value":t[0]||(t[0]=e=>n.formState.email=e)},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{label:"Пароль",name:"password",rules:[{required:!0,message:"Пожалуйста, введите пароль!"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,message:"Пароль должен содержать хотя бы одну большую букву, одну строчную букву, одну цифру и иметь длину не менее 8 символов!"}]},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{value:n.formState.password,"onUpdate:value":t[1]||(t[1]=e=>n.formState.password=e)},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{name:"remember","wrapper-col":{offset:8,span:16}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{checked:n.formState.remember,"onUpdate:checked":t[2]||(t[2]=e=>n.formState.remember=e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Запомнить меня")])),_:1},8,["checked"])])),_:1}),(0,a.Wm)(u,{"wrapper-col":{offset:8,span:16}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"primary","html-type":"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("Войти")])),_:1})])),_:1})])),_:1},8,["model","onSubmit"]),(0,a._)("p",Go,[(0,a.Uk)("Нет аккаунта? "),(0,a.Wm)(v,{to:"/registration"},{default:(0,a.w5)((()=>[(0,a.Uk)("Зарегистрироваться")])),_:1})])])}var es={setup(){const e=(0,ae.iH)({email:"",password:"",remember:!1}),t=(0,a.FN)().appContext.config.globalProperties.$router,o=async()=>{try{const o=await w.post("/auth/login",{email:e.value.email,password:e.value.password});if(o.data&&o.data.token){const s=o.data.token,a=y();a.setToken(s),b.ZP.success("Вход выполнен!"),a.setUser(o.data),t.push("/"),e.value.name="",e.value.password="",e.value.remember=!1}else b.ZP.error("Ошибка, вход не выполнен!")}catch(o){b.ZP.error("Ошибка сервера!")}},s=(e,t)=>{if(t){const e=/@/;return e.test(t)?Promise.resolve():Promise.reject('Адрес электронной почты должен содержать символ "@"!')}return Promise.resolve()};return{formState:e,loginUser:o,validateEmail:s}}};const ts=(0,j.Z)(es,[["render",Xo],["__scopeId","data-v-44e4b144"]]);var os=ts;const ss=e=>((0,a.dD)("data-v-2d64dff2"),e=e(),(0,a.Cn)(),e),as=ss((()=>(0,a._)("h1",null,"Admin Page",-1))),ns=ss((()=>(0,a._)("h2",null,"Список пользователей блога",-1))),rs={class:"button-container"};function ls(e,t,o,n,r,i){const u=(0,a.up)("a-button");return(0,a.wg)(),(0,a.iD)("div",null,[as,(0,a._)("div",null,[ns,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.users,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"users-list",key:e.id},[(0,a.Wm)(s.W3,{name:"user-list"},{default:(0,a.w5)((()=>[(0,a._)("p",null,(0,l.zw)(e.name),1),(0,a._)("p",null,(0,l.zw)(e.email),1),(0,a._)("div",rs,[(0,a.Wm)(u,{class:"del-button",type:"primary",danger:"",ghost:"",onClick:t=>n.removeUser(e.id)},{default:(0,a.w5)((()=>[(0,a.Uk)("Удалить")])),_:2},1032,["onClick"])])])),_:2},1024)])))),128))])])}var is={setup(){const e=(0,ae.iH)([]),t=async()=>{const t=await w.get("/users");console.log(t.data),e.value=t.data},o=async t=>{try{const o=await w.delete(`/users/${t}`);200===o.status?(e.value=e.value.filter((e=>e.id!==t)),b.ZP.success("Пользователь успешно удален")):b.ZP.error("Ошибка при удалении пользователя")}catch{b.ZP.error("Ошибка")}};return(0,a.bv)((()=>{t()})),{users:e,removeUser:o}}};const us=(0,j.Z)(is,[["render",ls],["__scopeId","data-v-2d64dff2"]]);var cs=us;const ds={class:"category-list"};function ms(e,t,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[(0,a._)("h2",null,'Список постов по теме "'+(0,l.zw)(s.currentCategory)+'"',1),(0,a._)("ol",ds,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.filteredPosts,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id}," Название поста: "+(0,l.zw)(e.title),1)))),128))])])])}var ps={setup(){const e=(0,Lo.yj)(),t=(0,ae.iH)(e.params.category),o=Wt();(0,a.bv)((async()=>{const e=await w.get("/posts");o.setPosts(e.data)}));const s=(0,a.Fl)((()=>o.posts.filter((e=>e.category===t.value))));return{currentCategory:t,filteredPosts:s}}};const vs=(0,j.Z)(ps,[["render",ms],["__scopeId","data-v-dc1ac074"]]);var gs=vs;const hs=e=>((0,a.dD)("data-v-9397c728"),e=e(),(0,a.Cn)(),e),fs=hs((()=>(0,a._)("h1",{class:"registration"},"Регистрация пользователя",-1)));function _s(e,t,o,n,r,l){const i=(0,a.up)("a-input"),u=(0,a.up)("a-form-item"),c=(0,a.up)("a-input-password"),d=(0,a.up)("a-button"),m=(0,a.up)("a-form");return(0,a.wg)(),(0,a.iD)("div",null,[fs,(0,a.Wm)(m,{model:n.registrationState,name:"basic",ref:"formRef","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",style:{width:"600px",margin:"100px 0 0 25%"},onSubmit:(0,s.iM)(n.registrationUser,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Имя",name:"username",rules:[{required:!0,message:"Пожалуйста, введите имя!"},{validator:n.validateName}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{value:n.registrationState.username,"onUpdate:value":t[0]||(t[0]=e=>n.registrationState.username=e)},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{name:"email",label:"Email",rules:[{required:!0,message:"Пожалуйста, введите адрес электронной почты!"},{type:"email",message:"Неверный формат электронной почты!"},{validator:n.validateEmail}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{value:n.registrationState.email,"onUpdate:value":t[1]||(t[1]=e=>n.registrationState.email=e),onInput:n.clearEmailValidation},null,8,["value","onInput"])])),_:1},8,["rules"]),(0,a.Wm)(u,{label:"Пароль",name:"password",rules:[{required:!0,message:"Пожалуйста, введите пароль!"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,message:"Пароль должен содержать хотя бы одну большую букву, одну строчную букву, одну цифру и иметь длину не менее 8 символов!"}]},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{value:n.registrationState.password,"onUpdate:value":t[2]||(t[2]=e=>n.registrationState.password=e)},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{"has-feedback":"",label:"Confirm",name:"checkPass",rules:[{required:!0,message:"Please input your password!"},{validator:n.validatePasswordMatch}]},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{value:n.registrationState.checkPass,"onUpdate:value":t[3]||(t[3]=e=>n.registrationState.checkPass=e),type:"password",autocomplete:"off"},null,8,["value"])])),_:1},8,["rules"]),(0,a.Wm)(u,{"wrapper-col":{offset:8,span:16}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{type:"primary","html-type":"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("Зарегистрироваться")])),_:1})])),_:1})])),_:1},8,["model","onSubmit"])])}var ws={setup(){const e=(0,ae.iH)({username:"",email:"",password:"",checkPass:""}),t=(0,ae.iH)(null),o=(0,a.FN)().appContext.config.globalProperties.$router,s=async()=>{try{const s=await w.post("/users",{name:e.value.username,email:e.value.email,password:e.value.password});await t.value.validate(),console.log("Validation passed, sending API request..."),console.log("API request succeeded:",s.data),e.value={username:"",email:"",password:"",checkPass:""},b.ZP.success("Регистрация прошла успешно"),o.push("/sign")}catch(s){console.error("Error during API request:",s),b.ZP.error("Ошибка при регистрации!")}},n=(e,t)=>{if(t){const e=/^[А-ЯA-Z][а-яА-ЯA-Za-z]*$/,o=/\d/.test(t);return!o&&e.test(t)?Promise.resolve():Promise.reject("Имя должно начинаться с большой буквы и не содержать чисел!")}return Promise.resolve()},r=(e,t)=>{if(t){const e=/@/;return e.test(t)?Promise.resolve():Promise.reject('Адрес электронной почты должен содержать символ "@"!')}return Promise.resolve()},l=()=>{t.value.clearValidate("user.email")},i=(t,o)=>o!==e.value.password?Promise.reject("Пароли не совпадают!"):Promise.resolve();return{formRef:t,registrationState:e,registrationUser:s,validateName:n,validateEmail:r,clearEmailValidation:l,validatePasswordMatch:i}}};const ys=(0,j.Z)(ws,[["render",_s],["__scopeId","data-v-9397c728"]]);var bs=ys;function ks(e,t,o){const s=y(),a=s.user?s.user.role:null;"admin"===a?o():(o({name:"NotFoundPage"}),b.ZP.error("Вы не являетесь админом!"))}const js=[{path:"/",component:po},{path:"/sign",component:os},{path:"/registration",component:bs},{path:"/admin",component:cs,beforeEnter:ks},{path:"/:pathMatch(.*)*",name:"NotFoundPage",component:qo},{path:"/:id",component:Ko},{path:"/categories/:category",component:gs}],Cs=(0,Lo.p7)({routes:js,history:(0,Lo.PO)("/VUE-BLOG/")});var Ps=Cs,Ds=o(891);o(1849);function Ss(e,t,o,s,n,r){const l=(0,a.up)("a-button"),i=(0,a.up)("a-space");return(0,a.wg)(),(0,a.j4)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{class:"new-post",style:{width:"150px",height:"40px"}},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3})])),_:3})}var Ws={name:"default-button"};const Zs=(0,j.Z)(Ws,[["render",Ss]]);var xs=Zs,Is=[xs],zs=o(6149),Ms={mounted(e){e.style.color="green"}},Us={methods:{sayHello(){console.log("Hello from the global mixin!")}}};const Os=(0,g.WB)(),Ts=(0,s.ri)(it);Is.forEach((e=>{Ts.component(e.name,e)})),Ts.directive("text-color",Ms),Ts.mixin(Us),Ts.use(Ps).use(Ds.ZP).use(Os).component("QuillEditor",zs.Bn).mount("#app");const As=Io();As.loadCommentCountsFromLocalStorage()}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,n){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],n=e[c][2];for(var l=!0,i=0;i<s.length;i++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](s[i])}))?s.splice(i--,1):(l=!1,n<r&&(r=n));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,a,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,r=s[0],l=s[1],i=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var c=i(o)}for(t&&t(s);u<r.length;u++)n=r[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},s=self["webpackChunkvue_blog"]=self["webpackChunkvue_blog"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(645)}));s=o.O(s)})();
//# sourceMappingURL=app.f30dcd05.js.map